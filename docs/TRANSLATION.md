# ğŸŒ GamersCommunity Front â€” Angular i18n (JSON Format)

## ğŸ“˜ Overview

This document explains how to use Angular's **native i18n system** with **JSON files** instead of the default XLIFF format.  
It covers how to annotate your HTML and TypeScript files, extract translations, and manage language files in a clean and maintainable way.

---

## ğŸ§© 1. Marking Text for Translation

### âœ… In HTML Templates

To mark a text for translation, use the `i18n` attribute with a **custom readable key**.

Example:

```html
<h1 i18n="@@auth.login.title">Log in to your account</h1>

<label i18n="@@auth.login.email">Email address</label>
<input type="email" />

<label i18n="@@auth.login.password">Password</label>
<input type="password" />

<button i18n="@@auth.login.submit">Sign in</button>
```

### âœ… In TypeScript Files

You can translate text dynamically in your code using Angularâ€™s `$localize` function:

```ts
const message = $localize`:@@auth.error.invalidCredentials:Invalid email or password.`;
console.log(message);
```

---

## âš™ï¸ 2. Extracting Translations

Angular can automatically extract all translatable strings into a single JSON file.

Add the following script to your **package.json**:

```json
"scripts": {
    "i18n": "ng extract-i18n --format json --output-path src/locale --out-file source.json"
}
```

Then run:

```bash
npm run i18n
```

âœ… This will generate or update the file:

```
/src/locale/source.json
```

Example output:

```json
{
    "auth.login.title": "Log in to your account",
    "auth.login.email": "Email address",
    "auth.login.password": "Password",
    "auth.login.submit": "Sign in"
}
```

---

## ğŸŒ 3. Adding Translations

When you want to add translations for other languages:

1. **Copy** the file `/src/locale/source.json`
2. **Rename** it using the language code you want to support, for example:
    - `/src/locale/source.fr.json`
    - `/src/locale/source.es.json`
3. **Edit** the new file and replace the English texts with your translations.

Example `/src/locale/source.fr.json`:

```json
{
    "auth.login.title": "Connexion Ã  votre compte",
    "auth.login.email": "Adresse e-mail",
    "auth.login.password": "Mot de passe",
    "auth.login.submit": "Se connecter"
}
```

---

## ğŸ§  4. Updating Translations

Whenever you add new `i18n` keys in your templates or TypeScript files, run again:

```bash
npm run i18n
```

This will update `/src/locale/source.json` with the new keys.

Then, **copy those new keys manually** into each translation file (e.g., `source.fr.json`, `source.es.json`) and provide their translated values.

---

## ğŸ’¡ 5. Best Practices

| Type                | Recommended Key Pattern | Example                        |
| ------------------- | ----------------------- | ------------------------------ |
| Page / Feature      | `feature.section.key`   | `auth.login.title`             |
| Layout / Navigation | `navbar.item`           | `navbar.logout`                |
| Messages / Errors   | `error.type`            | `error.network`                |
| Buttons / Actions   | `action.name`           | `action.save`, `action.cancel` |

ğŸ’¬ **Tips:**

- Always use `@@custom.keys` to avoid random autogenerated IDs.
- Keep JSON files **organized by domain** (auth, navbar, errors, etc.).
- Avoid very long nested keys; use logical feature prefixes instead.

---

## ğŸ§± 6. Example Folder Structure

```
src/
 â”œâ”€â”€ app/
 â”‚   â”œâ”€â”€ features/
 â”‚   â””â”€â”€ shared/
 â””â”€â”€ locale/
     â”œâ”€â”€ source.json
     â”œâ”€â”€ source.fr.json
     â”œâ”€â”€ source.es.json
     â””â”€â”€ ...
```

---

## ğŸ§© 7. Configuration Reference (angular.json)

To use JSON format for i18n in Angular, ensure your `angular.json` includes:

```json
"i18n": {
    "sourceLocale": "en-US",
    "locales": {
        "fr": "src/locale/source.fr.json",
        "es": "src/locale/source.es.json"
    }
}
```

This tells Angular where to load each locale during build or runtime.

---

## âœ… Summary

| Step                      | Command / Action               | Description                              |
| ------------------------- | ------------------------------ | ---------------------------------------- |
| Mark text for translation | `i18n="@@feature.section.key"` | Adds a readable key to your HTML         |
| Extract all translations  | `npm run i18n`                 | Generates `/src/locale/source.json`      |
| Add new locales           | Copy & rename file             | e.g., `source.fr.json`, `source.es.json` |
| Update translations       | Rerun `npm run i18n`           | Adds any new keys automatically          |

---

ğŸ“… **Last updated:** November 2025  
ğŸ§  **Maintainer:** GamersCommunity Frontend Team
